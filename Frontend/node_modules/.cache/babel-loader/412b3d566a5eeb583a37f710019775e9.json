{"ast":null,"code":"var _jsxFileName = \"/Users/thunderchawla/Documents/GitHub/webapp/client/src/HomePage.js\";\nimport React, { Component, useEffect, useState } from \"react\";\nimport { Link, Redirect, useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport axios, { Axios } from \"axios\";\nimport { cookies } from \"./App\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst withRouter = WrappedComponent => {\n  var _s = $RefreshSig$();\n\n  return _s(props => {\n    _s();\n\n    // const params = useParams();\n    // etc... other react-router-dom v6 hooks\n    const location = useLocation();\n    const navigate = useNavigate();\n    const params = useParams();\n    return /*#__PURE__*/_jsxDEV(WrappedComponent, { ...props,\n      location: location,\n      navigate: navigate,\n      params: params\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 12\n    }, this); // return (\n    //     <WrappedComponent\n    //         {...props}\n    //         params={params}\n    //         // etc...\n    //     />\n    // );\n  }, \"G4H0N746j5KwtpeOKQjfXhEbWfg=\", false, function () {\n    return [useLocation, useNavigate, useParams];\n  });\n};\n\nexport class HomePage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.logout = () => {\n      cookies.remove(\"sessionToken\");\n      cookies.remove(\"username\");\n      axios.post(\"http://localhost:3001/user/logout\", {\n        token: cookies.get(\"sessionToken\")\n      }).then(res => {\n        console.log(res.data);\n\n        if (res.data === \"success\") {\n          console.log(\"logout success\");\n          window.location.href = \"/\";\n        }\n      }).catch(err => {\n        console.log(err);\n      }); //this.props.navigate(\"/login\");\n    };\n\n    this.state = {\n      name: \"\",\n      username: this.props.id\n    };\n    const sessionToken = cookies.get(\"sessionToken\");\n\n    if (sessionToken === undefined) {\n      console.log(\"no session token\");\n      window.location.href = \"/login\";\n    }\n\n    console.log();\n    axios.post(\"http://localhost:3001/user/auth\", {\n      token: sessionToken !== undefined ? \"\" : sessionToken\n    }).then(res => {\n      console.log(res.data); // const navigateToLogin = () => {\n      //     useNavigate(\"/login\");\n      // }\n\n      if (res.data.msg === \"success\") {\n        console.log(\"auth returned success\");\n      }\n\n      if (res.data === \"error\") {\n        window.location.href = \"/login\"; //navigateToLogin();\n      }\n    }).catch(err => {\n      console.log(err);\n    }); //\n    //\n    // axios.get(\"http://localhost:3001/user/name/\" + this.state.username).then(res => {\n    //     this.state.name = res.data;\n    //     document.getElementById(\"name\").innerHTML = res.data + \" is logged in\";\n    // }).catch(err => {\n    //     console.log(err);\n    // });\n  }\n\n  componentDidMount() {//this.state.username = this.props.id;\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        id: 'name',\n        children: this.state.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [this.state.username, \" is the username\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: '/' + this.state.username + '/profile',\n        children: \"Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: '/' + this.state.username + '/projects',\n        children: \"Projects\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: '/' + this.state.username + '/skills',\n        children: \"Skills\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: '/' + this.state.username + '/education',\n        children: \"Education\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.logout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this);\n  }\n\n}\nexport default _c = withRouter(HomePage);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","Component","useEffect","useState","Link","Redirect","useLocation","useNavigate","useParams","axios","Axios","cookies","withRouter","WrappedComponent","props","location","navigate","params","HomePage","constructor","logout","remove","post","token","get","then","res","console","log","data","window","href","catch","err","state","name","username","id","sessionToken","undefined","msg","componentDidMount","render"],"sources":["/Users/thunderchawla/Documents/GitHub/webapp/client/src/HomePage.js"],"sourcesContent":["import React, {Component, useEffect, useState} from \"react\";\nimport {Link, Redirect, useLocation, useNavigate, useParams} from \"react-router-dom\";\nimport axios, {Axios} from \"axios\";\nimport {cookies} from \"./App\";\n\n\n\nconst withRouter = WrappedComponent => props => {\n    // const params = useParams();\n    // etc... other react-router-dom v6 hooks\n\n    const location = useLocation();\n    const navigate = useNavigate();\n    const params = useParams();\n    return <WrappedComponent {...props} location={location} navigate={navigate} params={params} />;\n    // return (\n    //     <WrappedComponent\n    //         {...props}\n    //         params={params}\n    //         // etc...\n    //     />\n    // );\n};\n\n\nexport class HomePage extends Component {\n    logout = () => {\n        cookies.remove(\"sessionToken\");\n        cookies.remove(\"username\");\n        axios.post(\"http://localhost:3001/user/logout\", {token: cookies.get(\"sessionToken\")}).then(res => {\n            console.log(res.data);\n            if (res.data === \"success\") {\n                console.log(\"logout success\");\n                window.location.href = \"/\";\n            }\n        }).catch(err => {\n            console.log(err);\n        });\n        //this.props.navigate(\"/login\");\n    }\n\nconstructor(props) {\n    super(props);\n    this.state = {\n        name: \"\",\n        username: this.props.id,\n    }\n    const sessionToken = cookies.get(\"sessionToken\");\n    if(sessionToken === undefined) {\n        console.log(\"no session token\");\n        window.location.href = \"/login\";\n\n    }\n\n    console.log();\n    axios.post(\"http://localhost:3001/user/auth\", {token: sessionToken !== undefined? \"\" : sessionToken}).then(res => {\n        console.log(res.data);\n\n        // const navigateToLogin = () => {\n        //     useNavigate(\"/login\");\n        // }\n\n        if (res.data.msg === \"success\") {\n            console.log(\"auth returned success\");\n        }\n        if(res.data === \"error\") {\n            window.location.href = \"/login\";\n            //navigateToLogin();\n        }\n    }).catch(err => {\n        console.log(err);\n    });\n\n    //\n    //\n    // axios.get(\"http://localhost:3001/user/name/\" + this.state.username).then(res => {\n    //     this.state.name = res.data;\n    //     document.getElementById(\"name\").innerHTML = res.data + \" is logged in\";\n    // }).catch(err => {\n    //     console.log(err);\n    // });\n}\n\n    componentDidMount() {\n        //this.state.username = this.props.id;\n\n\n    }\n\n    \n\n    render() {\n\n        return (\n            <div>\n                <h1 id={'name'}>{this.state.name}</h1>\n                <h1>{this.state.username} is the username</h1>\n                <Link to={'/' + this.state.username + '/profile'}>Profile</Link>\n                <Link to={'/' + this.state.username + '/projects'}>Projects</Link>\n                <Link to={'/' + this.state.username + '/skills'}>Skills</Link>\n                <Link to={'/' + this.state.username + '/education'}>Education</Link>\n                <button onClick={this.logout}>Logout</button>\n            </div>\n        );\n\n    }\n}\n\nexport default withRouter(HomePage);\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}