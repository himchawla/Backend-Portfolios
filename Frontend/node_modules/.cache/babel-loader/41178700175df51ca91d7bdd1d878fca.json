{"ast":null,"code":"var _jsxFileName = \"/Users/thunderchawla/Documents/GitHub/webapp/client/src/User/HomePage.js\";\nimport React, { Component } from \"react\";\nimport { Route, Routes, useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { cookies } from \"../App\";\nimport { Footer, Navbar } from \"./Navbar\";\nimport { MainPage } from \"./MainPage\";\nimport { Projects } from \"./Projects\";\nimport { CV } from \"./CV\";\nimport { Contact } from \"./Contact\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst withRouter = WrappedComponent => {\n  var _s = $RefreshSig$();\n\n  return _s(props => {\n    _s();\n\n    // const params = useParams();\n    // etc... other react-router-dom v6 hooks\n    const location = useLocation();\n    const navigate = useNavigate();\n    const params = useParams();\n    return /*#__PURE__*/_jsxDEV(WrappedComponent, { ...props,\n      location: location,\n      navigate: navigate,\n      params: params\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 12\n    }, this); // return (\n    //     <WrappedComponent\n    //         {...props}\n    //         params={params}\n    //         // etc...\n    //     />\n    // );\n  }, \"G4H0N746j5KwtpeOKQjfXhEbWfg=\", false, function () {\n    return [useLocation, useNavigate, useParams];\n  });\n};\n\nfunction Logout(props) {\n  return props.logout();\n}\n\n_c = Logout;\nexport class HomePage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.logout = () => {//this.props.navigate(\"/login\");\n    };\n\n    this.state = {\n      name: \"\",\n      username: this.props.id\n    };\n    const sessionToken = cookies.get(\"sessionToken\");\n\n    if (sessionToken === undefined) {\n      console.log(\"no session token\");\n      window.location.href = \"/login\";\n    }\n\n    console.log();\n    axios.post(\"http://localhost:3001/user/auth\", {\n      token: sessionToken !== undefined ? \"\" : sessionToken\n    }).then(res => {\n      console.log(res.data); // const navigateToLogin = () => {\n      //     useNavigate(\"/login\");\n      // }\n\n      if (res.data.msg === \"success\") {\n        console.log(\"auth returned success\");\n      }\n\n      if (res.data === \"error\") {\n        window.location.href = \"/login\"; //navigateToLogin();\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n\n    if (this.state.username === \"\") {\n      window.location.reload();\n    } //\n    //\n    // axios.get(\"http://localhost:3001/user/name/\" + this.state.username).then(res => {\n    //     this.state.name = res.data;\n    //     document.getElementById(\"name\").innerHTML = res.data + \" is logged in\";\n    // }).catch(err => {\n    //     console.log(err);\n    // });\n\n  }\n\n  componentDidMount() {//this.state.username = this.props.id;\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"HomePage\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        username: this.state.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/projects\",\n          element: /*#__PURE__*/_jsxDEV(Projects, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 56\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(MainPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 48\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/contact\",\n          element: /*#__PURE__*/_jsxDEV(Contact, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 55\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/cv\",\n          element: /*#__PURE__*/_jsxDEV(CV, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 50\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/logout\",\n          element: /*#__PURE__*/_jsxDEV(Logout, {\n            cb: this.logout()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 54\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {\n        username: this.state.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this);\n  }\n\n}\nexport default _c2 = withRouter(HomePage);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Logout\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","Component","Route","Routes","useLocation","useNavigate","useParams","axios","cookies","Footer","Navbar","MainPage","Projects","CV","Contact","withRouter","WrappedComponent","props","location","navigate","params","Logout","logout","HomePage","constructor","state","name","username","id","sessionToken","get","undefined","console","log","window","href","post","token","then","res","data","msg","catch","err","reload","componentDidMount","render"],"sources":["/Users/thunderchawla/Documents/GitHub/webapp/client/src/User/HomePage.js"],"sourcesContent":["import React, {Component} from \"react\";\nimport {Route, Routes, useLocation, useNavigate, useParams} from \"react-router-dom\";\nimport axios from \"axios\";\nimport {cookies} from \"../App\";\nimport {Footer, Navbar} from \"./Navbar\";\nimport {MainPage} from \"./MainPage\";\nimport {Projects} from \"./Projects\";\nimport {CV} from \"./CV\";\nimport {Contact} from \"./Contact\";\n\nconst withRouter = WrappedComponent => props => {\n    // const params = useParams();\n    // etc... other react-router-dom v6 hooks\n\n    const location = useLocation();\n    const navigate = useNavigate();\n    const params = useParams();\n    return <WrappedComponent {...props} location={location} navigate={navigate} params={params} />;\n    // return (\n    //     <WrappedComponent\n    //         {...props}\n    //         params={params}\n    //         // etc...\n    //     />\n    // );\n};\n\n\nfunction Logout(props) {\n    return props.logout();\n}\n\nexport class HomePage extends Component {\n    logout = () => {\n        \n        //this.props.navigate(\"/login\");\n    }\n\nconstructor(props) {\n    super(props);\n    this.state = {\n        name: \"\",\n        username: this.props.id,\n    }\n    const sessionToken = cookies.get(\"sessionToken\");\n    if(sessionToken === undefined) {\n        console.log(\"no session token\");\n        window.location.href = \"/login\";\n    }\n\n    console.log();\n    axios.post(\"http://localhost:3001/user/auth\", {token: sessionToken !== undefined? \"\" : sessionToken}).then(res => {\n        console.log(res.data);\n\n        // const navigateToLogin = () => {\n        //     useNavigate(\"/login\");\n        // }\n\n        if (res.data.msg === \"success\") {\n            console.log(\"auth returned success\");\n        }\n        if(res.data === \"error\") {\n            window.location.href = \"/login\";\n            //navigateToLogin();\n        }\n    }).catch(err => {\n        console.log(err);\n    });\n\n    if(this.state.username === \"\") {\n        window.location.reload();\n    }\n    //\n    //\n    // axios.get(\"http://localhost:3001/user/name/\" + this.state.username).then(res => {\n    //     this.state.name = res.data;\n    //     document.getElementById(\"name\").innerHTML = res.data + \" is logged in\";\n    // }).catch(err => {\n    //     console.log(err);\n    // });\n\n}\n\n    componentDidMount() {\n        //this.state.username = this.props.id;\n\n\n    }\n\n    \n\n    render() {\n\n        return (\n\n            <div className=\"HomePage\">\n\n                <Navbar username={this.state.username}/>\n\n                <Routes>\n                    <Route path={\"/projects\"} element={<Projects />}/>\n                    <Route path={\"/\"} element={<MainPage />}/>\n                    <Route path={\"/contact\"} element={<Contact />}/>\n                    <Route path={\"/cv\"} element={<CV />}/>\n                    <Route path={\"/logout\"} element={<Logout cb={this.logout()}/>} />\n                </Routes>\n\n            <Footer username={this.state.username} />\n            </div>\n        )\n\n\n    }\n}\n\nexport default withRouter(HomePage);\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}