{"ast":null,"code":"var _jsxFileName = \"/Users/thunderchawla/Documents/GitHub/Backend/server/Frontend/src/User/HomePage.js\";\nimport React, { Component } from \"react\";\nimport { Route, Routes, useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { cookies, serverPath } from \"../App\";\nimport { Footer, Navbar } from \"./Navbar\";\nimport { MainPage } from \"./MainPage\";\nimport { Projects } from \"./Projects\";\nimport { CV } from \"./CV\";\nimport { Contact } from \"./Contact\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst withRouter = WrappedComponent => {\n  var _s = $RefreshSig$();\n\n  return _s(props => {\n    _s();\n\n    // const params = useParams();\n    // etc... other react-router-dom v6 hooks\n    const location = useLocation();\n    const navigate = useNavigate();\n    const params = useParams();\n    return /*#__PURE__*/_jsxDEV(WrappedComponent, { ...props,\n      location: location,\n      navigate: navigate,\n      params: params\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 12\n    }, this); // return (\n    //     <WrappedComponent\n    //         {...props}\n    //         params={params}\n    //         // etc...\n    //     />\n    // );\n  }, \"G4H0N746j5KwtpeOKQjfXhEbWfg=\", false, function () {\n    return [useLocation, useNavigate, useParams];\n  });\n};\n\nexport class HomePage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      username: this.props.id,\n      user: null,\n      showcase: this.props.showcase\n    };\n\n    if (this.state.showcase === undefined) {\n      this.setState({\n        showcase: false\n      });\n    }\n\n    if (this.state.showcase === true) {\n      axios.post(`${serverPath}/check`, {\n        username: this.state.username\n      }).then(res => {\n        if (res.data === \"username available\") {\n          window.location.href = \"/login\";\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n      return;\n    }\n\n    const sessionToken = cookies.get(\"sessionToken\");\n\n    if (sessionToken === undefined) {\n      console.log(\"no session token\");\n      window.location.href = \"/login\";\n    }\n\n    console.log();\n    axios.post(serverPath + \"/user/auth\", {\n      token: sessionToken === undefined ? \"\" : sessionToken\n    }).then(res => {\n      console.log(res.data); // const navigateToLogin = () => {\n      //     useNavigate(\"/login\");\n      // }\n\n      if (res.data.msg === \"success\") {\n        console.log(\"auth returned success\");\n      }\n\n      if (res.data === \"error\") {\n        window.location.href = \"/login\"; //navigateToLogin();\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n    console.log(this.state.user);\n  }\n\n  componentDidMount() {//this.state.username = this.props.id;\n  }\n\n  render() {\n    var active = window.location.pathname === \"/\" + this.state.username ? \"Home\" : window.location.pathname === \"/\" + this.state.username + \"/projects\" ? \"Projects\" : window.location.pathname === \"/\" + this.state.username + \"/cv\" ? \"CV\" : window.location.pathname === \"/\" + this.state.username + \"/contact\" ? \"Contact\" : \"\";\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"HomePage\",\n      children: [console.log(window.location.pathname), /*#__PURE__*/_jsxDEV(Navbar, {\n        username: this.state.username,\n        active: active\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/projects/*\",\n          element: /*#__PURE__*/_jsxDEV(Projects, {\n            username: this.state.username,\n            showcase: this.state.showcase\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 58\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(MainPage, {\n            username: this.state.username,\n            showcase: this.state.showcase\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 48\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/contact\",\n          element: /*#__PURE__*/_jsxDEV(Contact, {\n            username: this.state.username,\n            showcase: this.state.showcase\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 55\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/cv\",\n          element: /*#__PURE__*/_jsxDEV(CV, {\n            username: this.state.username,\n            showcase: this.state.showcase\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 50\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {\n        username: this.state.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this);\n  }\n\n}\nexport default _c = withRouter(HomePage);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","Component","Route","Routes","useLocation","useNavigate","useParams","axios","cookies","serverPath","Footer","Navbar","MainPage","Projects","CV","Contact","withRouter","WrappedComponent","props","location","navigate","params","HomePage","constructor","state","name","username","id","user","showcase","undefined","setState","post","then","res","data","window","href","catch","err","console","log","sessionToken","get","token","msg","componentDidMount","render","active","pathname"],"sources":["/Users/thunderchawla/Documents/GitHub/Backend/server/Frontend/src/User/HomePage.js"],"sourcesContent":["import React, {Component} from \"react\";\nimport {Route, Routes, useLocation, useNavigate, useParams} from \"react-router-dom\";\nimport axios from \"axios\";\nimport {cookies, serverPath} from \"../App\";\nimport {Footer, Navbar} from \"./Navbar\";\nimport {MainPage} from \"./MainPage\";\nimport {Projects} from \"./Projects\";\nimport {CV} from \"./CV\";\nimport {Contact} from \"./Contact\";\n\nconst withRouter = WrappedComponent => props => {\n    // const params = useParams();\n    // etc... other react-router-dom v6 hooks\n\n    const location = useLocation();\n    const navigate = useNavigate();\n    const params = useParams();\n    return <WrappedComponent {...props} location={location} navigate={navigate} params={params} />;\n    // return (\n    //     <WrappedComponent\n    //         {...props}\n    //         params={params}\n    //         // etc...\n    //     />\n    // );\n};\n\n\n\nexport class HomePage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: \"\",\n            username: this.props.id,\n            user: null,\n            showcase :this.props.showcase,\n        }\n        \n        if(this.state.showcase === undefined) {\n            \n            this.setState({showcase: false});\n        }\n        \n        if(this.state.showcase === true) {\n\n            axios.post(`${serverPath}/check`, {\n                username: this.state.username\n            }).then(res => {\n                if (res.data === \"username available\") {\n                    window.location.href = \"/login\";\n                }\n            }).catch(err => {\n                console.log(err);\n            });\n            \n            return;\n        }\n        \n        const sessionToken = cookies.get(\"sessionToken\");\n        if (sessionToken === undefined) {\n            console.log(\"no session token\");\n            window.location.href = \"/login\";\n        }\n\n        \n\n        console.log();\n        axios.post(serverPath + \"/user/auth\", {token: sessionToken === undefined ? \"\" : sessionToken}).then(res => {\n            console.log(res.data);\n\n            // const navigateToLogin = () => {\n            //     useNavigate(\"/login\");\n            // }\n\n            if (res.data.msg === \"success\") {\n                console.log(\"auth returned success\");\n            }\n            if (res.data === \"error\") {\n                window.location.href = \"/login\";\n                //navigateToLogin();\n            }\n        }).catch(err => {\n            console.log(err);\n        });\n\n\n\n\n\n        console.log(this.state.user);\n    }\n\n\n   \n\n    componentDidMount() {\n        //this.state.username = this.props.id;\n\n\n    }\n\n    \n\n    render(){\n\n        var active = window.location.pathname === \"/\" + this.state.username ? \"Home\" : window.location.pathname === \"/\" + this.state.username + \"/projects\" ? \"Projects\" : window.location.pathname === \"/\" + this.state.username + \"/cv\" ? \"CV\" : window.location.pathname === \"/\" + this.state.username + \"/contact\" ? \"Contact\" : \"\";\n        return  (\n\n            <div className=\"HomePage\">\n\n                {console.log(window.location.pathname)}\n                \n                <Navbar username={this.state.username} active={active}/>\n\n\n                <Routes>\n                    <Route path={\"/projects/*\"} element={<Projects username={this.state.username} showcase={this.state.showcase}/>}/>\n\n                    <Route path={\"/\"} element={<MainPage username={this.state.username} showcase={this.state.showcase}/>}/>\n\n                    <Route path={\"/contact\"} element={<Contact username={this.state.username} showcase={this.state.showcase}/>}/>\n                    <Route path={\"/cv\"} element={<CV username={this.state.username} showcase={this.state.showcase}/>}/>\n                    {/*<Route path={\"/logout\"} element={<Logout />} />*/}\n                </Routes>\n                \n\n            <Footer username={this.state.username} />\n            </div>\n        )\n\n\n    }\n}\n\nexport default withRouter(HomePage);\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}