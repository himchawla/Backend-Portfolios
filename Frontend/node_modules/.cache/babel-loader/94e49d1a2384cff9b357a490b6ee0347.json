{"ast":null,"code":"import _classCallCheck from\"/Users/thunderchawla/Documents/GitHub/Backend/server/Frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/thunderchawla/Documents/GitHub/Backend/server/Frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _possibleConstructorReturn from\"/Users/thunderchawla/Documents/GitHub/Backend/server/Frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";import _inherits from\"/Users/thunderchawla/Documents/GitHub/Backend/server/Frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/thunderchawla/Documents/GitHub/Backend/server/Frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _objectSpread from\"/Users/thunderchawla/Documents/GitHub/Backend/server/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{Component}from\"react\";import{Route,Routes,useLocation,useNavigate,useParams}from\"react-router-dom\";import axios from\"axios\";import{cookies,serverPath}from\"../App\";import{Footer,Navbar}from\"./Navbar\";import{MainPage}from\"./MainPage\";import{Projects}from\"./Projects\";import{CV}from\"./CV\";import{Contact}from\"./Contact\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var withRouter=function withRouter(WrappedComponent){return function(props){// const params = useParams();\n// etc... other react-router-dom v6 hooks\nvar location=useLocation();var navigate=useNavigate();var params=useParams();return/*#__PURE__*/_jsx(WrappedComponent,_objectSpread(_objectSpread({},props),{},{location:location,navigate:navigate,params:params}));// return (\n//     <WrappedComponent\n//         {...props}\n//         params={params}\n//         // etc...\n//     />\n// );\n};};export var HomePage=/*#__PURE__*/function(_Component){_inherits(HomePage,_Component);var _super=_createSuper(HomePage);function HomePage(props){var _this;_classCallCheck(this,HomePage);_this=_super.call(this,props);_this.state={name:\"\",username:_this.props.id,user:null,showcase:_this.props.showcase};if(_this.state.showcase===undefined){_this.setState({showcase:false});}if(_this.state.showcase===true){axios.post(\"\".concat(serverPath,\"/check\"),{username:_this.state.username}).then(function(res){if(res.data===\"username available\"){window.location.href=\"/login\";}}).catch(function(err){console.log(err);});return _possibleConstructorReturn(_this);}var sessionToken=cookies.get(\"sessionToken\");if(sessionToken===undefined){console.log(\"no session token\");window.location.href=\"/login\";}console.log();axios.post(serverPath+\"/user/auth\",{token:sessionToken===undefined?\"\":sessionToken}).then(function(res){console.log(res.data);// const navigateToLogin = () => {\n//     useNavigate(\"/login\");\n// }\nif(res.data.msg===\"success\"){console.log(\"auth returned success\");}if(res.data===\"error\"){window.location.href=\"/login\";//navigateToLogin();\n}}).catch(function(err){console.log(err);});console.log(_this.state.user);return _this;}_createClass(HomePage,[{key:\"componentDidMount\",value:function componentDidMount(){//this.state.username = this.props.id;\n}},{key:\"render\",value:function render(){var active=window.location.pathname===\"/\"+this.state.username?\"Home\":window.location.pathname===\"/\"+this.state.username+\"/projects\"?\"Projects\":window.location.pathname===\"/\"+this.state.username+\"/cv\"?\"CV\":window.location.pathname===\"/\"+this.state.username+\"/contact\"?\"Contact\":\"\";return/*#__PURE__*/_jsxs(\"div\",{className:\"HomePage\",children:[console.log(window.location.pathname),/*#__PURE__*/_jsx(Navbar,{username:this.state.username,active:active}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/projects/*\",element:/*#__PURE__*/_jsx(Projects,{username:this.state.username,showcase:this.state.showcase})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(MainPage,{username:this.state.username,showcase:this.state.showcase})}),/*#__PURE__*/_jsx(Route,{path:\"/contact\",element:/*#__PURE__*/_jsx(Contact,{username:this.state.username,showcase:this.state.showcase})}),/*#__PURE__*/_jsx(Route,{path:\"/cv\",element:/*#__PURE__*/_jsx(CV,{username:this.state.username,showcase:this.state.showcase})})]}),/*#__PURE__*/_jsx(Footer,{username:this.state.username})]});}}]);return HomePage;}(Component);export default withRouter(HomePage);","map":{"version":3,"names":["React","Component","Route","Routes","useLocation","useNavigate","useParams","axios","cookies","serverPath","Footer","Navbar","MainPage","Projects","CV","Contact","withRouter","WrappedComponent","props","location","navigate","params","HomePage","state","name","username","id","user","showcase","undefined","setState","post","then","res","data","window","href","catch","err","console","log","sessionToken","get","token","msg","active","pathname"],"sources":["/Users/thunderchawla/Documents/GitHub/Backend/server/Frontend/src/User/HomePage.js"],"sourcesContent":["import React, {Component} from \"react\";\nimport {Route, Routes, useLocation, useNavigate, useParams} from \"react-router-dom\";\nimport axios from \"axios\";\nimport {cookies, serverPath} from \"../App\";\nimport {Footer, Navbar} from \"./Navbar\";\nimport {MainPage} from \"./MainPage\";\nimport {Projects} from \"./Projects\";\nimport {CV} from \"./CV\";\nimport {Contact} from \"./Contact\";\n\nconst withRouter = WrappedComponent => props => {\n    // const params = useParams();\n    // etc... other react-router-dom v6 hooks\n\n    const location = useLocation();\n    const navigate = useNavigate();\n    const params = useParams();\n    return <WrappedComponent {...props} location={location} navigate={navigate} params={params} />;\n    // return (\n    //     <WrappedComponent\n    //         {...props}\n    //         params={params}\n    //         // etc...\n    //     />\n    // );\n};\n\n\n\nexport class HomePage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: \"\",\n            username: this.props.id,\n            user: null,\n            showcase :this.props.showcase,\n        }\n        \n        if(this.state.showcase === undefined) {\n            \n            this.setState({showcase: false});\n        }\n        \n        if(this.state.showcase === true) {\n\n            axios.post(`${serverPath}/check`, {\n                username: this.state.username\n            }).then(res => {\n                if (res.data === \"username available\") {\n                    window.location.href = \"/login\";\n                }\n            }).catch(err => {\n                console.log(err);\n            });\n            \n            return;\n        }\n        \n        const sessionToken = cookies.get(\"sessionToken\");\n        if (sessionToken === undefined) {\n            console.log(\"no session token\");\n            window.location.href = \"/login\";\n        }\n\n        \n\n        console.log();\n        axios.post(serverPath + \"/user/auth\", {token: sessionToken === undefined ? \"\" : sessionToken}).then(res => {\n            console.log(res.data);\n\n            // const navigateToLogin = () => {\n            //     useNavigate(\"/login\");\n            // }\n\n            if (res.data.msg === \"success\") {\n                console.log(\"auth returned success\");\n            }\n            if (res.data === \"error\") {\n                window.location.href = \"/login\";\n                //navigateToLogin();\n            }\n        }).catch(err => {\n            console.log(err);\n        });\n\n\n\n\n\n        console.log(this.state.user);\n    }\n\n\n   \n\n    componentDidMount() {\n        //this.state.username = this.props.id;\n\n\n    }\n\n    \n\n    render(){\n\n        var active = window.location.pathname === \"/\" + this.state.username ? \"Home\" : window.location.pathname === \"/\" + this.state.username + \"/projects\" ? \"Projects\" : window.location.pathname === \"/\" + this.state.username + \"/cv\" ? \"CV\" : window.location.pathname === \"/\" + this.state.username + \"/contact\" ? \"Contact\" : \"\";\n        return  (\n\n            <div className=\"HomePage\">\n\n                {console.log(window.location.pathname)}\n                \n                <Navbar username={this.state.username} active={active}/>\n\n\n                <Routes>\n                    <Route path={\"/projects/*\"} element={<Projects username={this.state.username} showcase={this.state.showcase}/>}/>\n\n                    <Route path={\"/\"} element={<MainPage username={this.state.username} showcase={this.state.showcase}/>}/>\n\n                    <Route path={\"/contact\"} element={<Contact username={this.state.username} showcase={this.state.showcase}/>}/>\n                    <Route path={\"/cv\"} element={<CV username={this.state.username} showcase={this.state.showcase}/>}/>\n                    {/*<Route path={\"/logout\"} element={<Logout />} />*/}\n                </Routes>\n                \n\n            <Footer username={this.state.username} />\n            </div>\n        )\n\n\n    }\n}\n\nexport default withRouter(HomePage);\n\n\n"],"mappings":"y3BAAA,MAAOA,MAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAAQC,KAAR,CAAeC,MAAf,CAAuBC,WAAvB,CAAoCC,WAApC,CAAiDC,SAAjD,KAAiE,kBAAjE,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAAQC,OAAR,CAAiBC,UAAjB,KAAkC,QAAlC,CACA,OAAQC,MAAR,CAAgBC,MAAhB,KAA6B,UAA7B,CACA,OAAQC,QAAR,KAAuB,YAAvB,CACA,OAAQC,QAAR,KAAuB,YAAvB,CACA,OAAQC,EAAR,KAAiB,MAAjB,CACA,OAAQC,OAAR,KAAsB,WAAtB,C,wFAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,CAAAC,gBAAgB,QAAI,UAAAC,KAAK,CAAI,CAC5C;AACA;AAEA,GAAMC,SAAQ,CAAGf,WAAW,EAA5B,CACA,GAAMgB,SAAQ,CAAGf,WAAW,EAA5B,CACA,GAAMgB,OAAM,CAAGf,SAAS,EAAxB,CACA,mBAAO,KAAC,gBAAD,gCAAsBY,KAAtB,MAA6B,QAAQ,CAAEC,QAAvC,CAAiD,QAAQ,CAAEC,QAA3D,CAAqE,MAAM,CAAEC,MAA7E,GAAP,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,CAfkC,EAAnC,CAmBA,UAAaC,SAAb,oGACI,kBAAYJ,KAAZ,CAAmB,0CACf,uBAAMA,KAAN,EACA,MAAKK,KAAL,CAAa,CACTC,IAAI,CAAE,EADG,CAETC,QAAQ,CAAE,MAAKP,KAAL,CAAWQ,EAFZ,CAGTC,IAAI,CAAE,IAHG,CAITC,QAAQ,CAAE,MAAKV,KAAL,CAAWU,QAJZ,CAAb,CAOA,GAAG,MAAKL,KAAL,CAAWK,QAAX,GAAwBC,SAA3B,CAAsC,CAElC,MAAKC,QAAL,CAAc,CAACF,QAAQ,CAAE,KAAX,CAAd,EACH,CAED,GAAG,MAAKL,KAAL,CAAWK,QAAX,GAAwB,IAA3B,CAAiC,CAE7BrB,KAAK,CAACwB,IAAN,WAActB,UAAd,WAAkC,CAC9BgB,QAAQ,CAAE,MAAKF,KAAL,CAAWE,QADS,CAAlC,EAEGO,IAFH,CAEQ,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,IAAJ,GAAa,oBAAjB,CAAuC,CACnCC,MAAM,CAAChB,QAAP,CAAgBiB,IAAhB,CAAuB,QAAvB,CACH,CACJ,CAND,EAMGC,KANH,CAMS,SAAAC,GAAG,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CARD,EAUA,yCACH,CAED,GAAMG,aAAY,CAAGjC,OAAO,CAACkC,GAAR,CAAY,cAAZ,CAArB,CACA,GAAID,YAAY,GAAKZ,SAArB,CAAgC,CAC5BU,OAAO,CAACC,GAAR,CAAY,kBAAZ,EACAL,MAAM,CAAChB,QAAP,CAAgBiB,IAAhB,CAAuB,QAAvB,CACH,CAIDG,OAAO,CAACC,GAAR,GACAjC,KAAK,CAACwB,IAAN,CAAWtB,UAAU,CAAG,YAAxB,CAAsC,CAACkC,KAAK,CAAEF,YAAY,GAAKZ,SAAjB,CAA6B,EAA7B,CAAkCY,YAA1C,CAAtC,EAA+FT,IAA/F,CAAoG,SAAAC,GAAG,CAAI,CACvGM,OAAO,CAACC,GAAR,CAAYP,GAAG,CAACC,IAAhB,EAEA;AACA;AACA;AAEA,GAAID,GAAG,CAACC,IAAJ,CAASU,GAAT,GAAiB,SAArB,CAAgC,CAC5BL,OAAO,CAACC,GAAR,CAAY,uBAAZ,EACH,CACD,GAAIP,GAAG,CAACC,IAAJ,GAAa,OAAjB,CAA0B,CACtBC,MAAM,CAAChB,QAAP,CAAgBiB,IAAhB,CAAuB,QAAvB,CACA;AACH,CACJ,CAdD,EAcGC,KAdH,CAcS,SAAAC,GAAG,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAhBD,EAsBAC,OAAO,CAACC,GAAR,CAAY,MAAKjB,KAAL,CAAWI,IAAvB,EA5De,aA6DlB,CA9DL,sDAmEI,4BAAoB,CAChB;AAGH,CAvEL,sBA2EI,iBAAQ,CAEJ,GAAIkB,OAAM,CAAGV,MAAM,CAAChB,QAAP,CAAgB2B,QAAhB,GAA6B,IAAM,KAAKvB,KAAL,CAAWE,QAA9C,CAAyD,MAAzD,CAAkEU,MAAM,CAAChB,QAAP,CAAgB2B,QAAhB,GAA6B,IAAM,KAAKvB,KAAL,CAAWE,QAAjB,CAA4B,WAAzD,CAAuE,UAAvE,CAAoFU,MAAM,CAAChB,QAAP,CAAgB2B,QAAhB,GAA6B,IAAM,KAAKvB,KAAL,CAAWE,QAAjB,CAA4B,KAAzD,CAAiE,IAAjE,CAAwEU,MAAM,CAAChB,QAAP,CAAgB2B,QAAhB,GAA6B,IAAM,KAAKvB,KAAL,CAAWE,QAAjB,CAA4B,UAAzD,CAAsE,SAAtE,CAAkF,EAA7T,CACA,mBAEI,aAAK,SAAS,CAAC,UAAf,WAEKc,OAAO,CAACC,GAAR,CAAYL,MAAM,CAAChB,QAAP,CAAgB2B,QAA5B,CAFL,cAII,KAAC,MAAD,EAAQ,QAAQ,CAAE,KAAKvB,KAAL,CAAWE,QAA7B,CAAuC,MAAM,CAAEoB,MAA/C,EAJJ,cAOI,MAAC,MAAD,yBACI,KAAC,KAAD,EAAO,IAAI,CAAE,aAAb,CAA4B,OAAO,cAAE,KAAC,QAAD,EAAU,QAAQ,CAAE,KAAKtB,KAAL,CAAWE,QAA/B,CAAyC,QAAQ,CAAE,KAAKF,KAAL,CAAWK,QAA9D,EAArC,EADJ,cAGI,KAAC,KAAD,EAAO,IAAI,CAAE,GAAb,CAAkB,OAAO,cAAE,KAAC,QAAD,EAAU,QAAQ,CAAE,KAAKL,KAAL,CAAWE,QAA/B,CAAyC,QAAQ,CAAE,KAAKF,KAAL,CAAWK,QAA9D,EAA3B,EAHJ,cAKI,KAAC,KAAD,EAAO,IAAI,CAAE,UAAb,CAAyB,OAAO,cAAE,KAAC,OAAD,EAAS,QAAQ,CAAE,KAAKL,KAAL,CAAWE,QAA9B,CAAwC,QAAQ,CAAE,KAAKF,KAAL,CAAWK,QAA7D,EAAlC,EALJ,cAMI,KAAC,KAAD,EAAO,IAAI,CAAE,KAAb,CAAoB,OAAO,cAAE,KAAC,EAAD,EAAI,QAAQ,CAAE,KAAKL,KAAL,CAAWE,QAAzB,CAAmC,QAAQ,CAAE,KAAKF,KAAL,CAAWK,QAAxD,EAA7B,EANJ,GAPJ,cAkBA,KAAC,MAAD,EAAQ,QAAQ,CAAE,KAAKL,KAAL,CAAWE,QAA7B,EAlBA,GAFJ,CAyBH,CAvGL,sBAA8BxB,SAA9B,EA0GA,cAAee,WAAU,CAACM,QAAD,CAAzB"},"metadata":{},"sourceType":"module"}